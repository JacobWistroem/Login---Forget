@model SecureApp.Models.LoginModel

@{
    ViewBag.Title = "Login";
}

<!--
<h2>Login Page</h2>
@if (ViewBag.Status == null || !ViewBag.Status)
{
    <div>@ViewBag.Message</div>
    <div>
        @using (Html.BeginForm())
        {
            <div class="form-group">
                <label for="UserName">UserName : </label>
                @Html.TextBoxFor(a => a.UserName, new { @class = "form-control" })
            </div>
            <div class="form-group">
                <label for="Password">Password : </label>
                @Html.TextBoxFor(a => a.Password, new { @class = "form-control", type = "password" })
            </div>
            <input type="submit" value="Login" class="btn btn-default" />
        }
    </div>
}
else
{
    <div>@ViewBag.Message</div>
    <div>
        <img src="@ViewBag.BarcodeImageUrl" />
    </div>
    <div>
        Manual Setup Code : @ViewBag.SetupCode
    </div>
    <div>
        @using (Html.BeginForm("TwoFactorAuthenticate", "Home", FormMethod.Post))
        {
            <input type="text" name="CodeDigit" />
            <input type="submit" class="btn btn-success" />
        }
    </div>

}
    -->


<link rel="stylesheet" href="styles.css">
<div id="login-main">
    <div>
        <div>
            <img id="login-logo" src="~/Content/assets/Logo.svg">
        </div>
        <div id="login-title">~ Your one secure way to everything ~</div>
        <div id="loginbox">
            @if (ViewBag.Status == null || !ViewBag.Status)
            {
                <div id="boxtitle">Sign In</div>
                <div class="formtitles" style="display: block; margin-right: auto; margin-left: auto;text-align:center; color: red;">@ViewBag.Message</div>

                <div id="formsandtitles">
                    @using (Html.BeginForm())
                    {
                        <div class="formtitles">E-mail</div>
                        <!--<input class="loginforms" type="text">-->
                        @Html.TextBoxFor(a => a.UserName, new { @class = "loginforms", type = "text" })
                        <div style="margin-top: 24px;" class="formtitles">Password</div>
                        <!--<input class="loginforms" type="Password">-->
                        @Html.TextBoxFor(a => a.Password, new { @class = "loginforms", type = "password" })
                        <div id="forgotpass">Forgot password?</div>
                        <input class="loginsubmit" type="submit" value="Login">
                    }
                </div>
            }
            else
            {   <div id="boxtitle">2FA</div>
                <!-- <div>@ViewBag.Message</div> -->
                <div>
                    <img style="display: block; width: 135px; height: 135px; margin-left: auto; margin-right: auto;" src="@ViewBag.BarcodeImageUrl" />
                </div>
                <div class="formtitles" style="text-align: center; padding-bottom: 17px;">
                    Manual Setup Code : @ViewBag.SetupCode
                </div>
                <div>
                    @using (Html.BeginForm("TwoFactorAuthenticate", "Home", FormMethod.Post))
                    {
                        <input type="text" name="CodeDigit" class="loginforms" />
                        <input type="submit" class="loginsubmit"/>
                    }
                </div>
            }
        </div>
    </div>
</div>